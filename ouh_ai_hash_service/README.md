# Hash Service
Hash Service for AI Model folders

## Purpose
To verify that the correct version of the desired AI model is used, the config file contains a hash value that needs to be identical to a hash value that was generated from running a MD5 hash over the entire AI model folder. The hash service in this repository is generating the Hash.

## Usage
The code in this repository should run as a service on a daily basis at midnight.

Firstly, for the program to run an environmental variable needs to be added. On Windows [this guide](https://phoenixnap.com/kb/windows-set-environment-variable) can be used.
You need to add a system environmental variable with the name `ouh_inference_model_hash` and set it to a folderpath where you want the hash files generated by the Hash Service to be stored.
> **Note**: Once you set the variable you might have to restart the computer for the environmental variable to be found by the Hash Service.
> **Note**: You also need to have set-up the nnU-Net environmental variables for this to work. Otherwise the service does not know where the nnU-Net models are stored...

Therefore the code needs to be set-up to run repeatedly. In Windows, this can be done with
the `Task Scheduler`. Create a new task in the `Task Scheduler`.

In the `General` tab remember to check `Run whether user is logegd on or not`
In the `Triggers` tab set it to `Daily at midnight` and set the status to `Enabled`
In the `Actions` tab create a new Action `Start a program` with the `Program/script` containing the path to the desired `python.exe` and the `Add argument` containing the path to the `main.py` file of this repository.
